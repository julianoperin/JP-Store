{"ast":null,"code":"import _toConsumableArray from\"/Users/julianoperin/Desktop/jpstore/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/julianoperin/Desktop/jpstore/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import\"./ProductScreen.scss\";import{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";//! Actions\nimport{getProductDetails}from\"../../redux/actions/productActions\";import{addToCart}from\"../../redux/actions/cartActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductScreen=function ProductScreen(_ref){var match=_ref.match,history=_ref.history;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.getProductDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){if(product&&match.params.id!==product._id){dispatch(getProductDetails(match.params.id));}},[dispatch,match,product]);var addToCartHandler=function addToCartHandler(){dispatch(addToCart(product._id,qty));history.push(\"/cart\");};return/*#__PURE__*/_jsx(\"div\",{className:\"productscreen\",children:loading?/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"h2\",{children:\"Error\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productscreen__left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left__image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"left__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"left__name\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\" Price:\"}),\" $\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\" Description:\"}),\" \",product.description]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"productscreen__right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"right__info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Amount: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",product.price*qty]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",\"Status:\",\" \",/*#__PURE__*/_jsx(\"span\",{children:product.countInStock>0?\"In Stock\":\"Out Of Stock\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity\",/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{children:x+1},x+1);})})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addToCartHandler,children:\"Add To Cart\"})})]})})]})});};export default ProductScreen;","map":{"version":3,"sources":["/Users/julianoperin/Desktop/jpstore/frontend/src/screens/ProductScreen/ProductScreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","getProductDetails","addToCart","ProductScreen","match","history","qty","setQty","dispatch","productDetails","state","loading","error","product","params","id","_id","addToCartHandler","push","imageUrl","name","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./ProductScreen.scss\";\n\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\n//! Actions\nimport { getProductDetails } from \"../../redux/actions/productActions\";\nimport { addToCart } from \"../../redux/actions/cartActions\";\n\nconst ProductScreen = ({ match, history }) => {\n  const [qty, setQty] = useState(1);\n  const dispatch = useDispatch();\n\n  const productDetails = useSelector((state) => state.getProductDetails);\n  const { loading, error, product } = productDetails;\n\n  useEffect(() => {\n    if (product && match.params.id !== product._id) {\n      dispatch(getProductDetails(match.params.id));\n    }\n  }, [dispatch, match, product]);\n\n  const addToCartHandler = () => {\n    dispatch(addToCart(product._id, qty));\n    history.push(\"/cart\");\n  };\n\n  return (\n    <div className=\"productscreen\">\n      {loading ? (\n        <h2>Loading...</h2>\n      ) : error ? (\n        <h2>Error</h2>\n      ) : (\n        <>\n          <div className=\"productscreen__left\">\n            <div className=\"left__image\">\n              <img src={product.imageUrl} alt={product.name} />\n            </div>\n\n            <div className=\"left__info\">\n              <p className=\"left__name\">{product.name}</p>\n              <p>\n                {\" \"}\n                <b> Price:</b> ${product.price}\n              </p>\n              <p>\n                {\" \"}\n                <b> Description:</b> {product.description}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"productscreen__right\">\n            <div className=\"right__info\">\n              <p>\n                Total Amount: <span>${product.price * qty}</span>\n              </p>\n              <p>\n                {\" \"}\n                Status:{\" \"}\n                <span>\n                  {product.countInStock > 0 ? \"In Stock\" : \"Out Of Stock\"}\n                </span>\n              </p>\n\n              <p>\n                Quantity\n                <select value={qty} onChange={(e) => setQty(e.target.value)}>\n                  {[...Array(product.countInStock).keys()].map((x) => (\n                    <option key={x + 1}>{x + 1}</option>\n                  ))}\n                </select>\n              </p>\n              <p>\n                <button type=\"button\" onClick={addToCartHandler}>\n                  Add To Cart\n                </button>\n              </p>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ProductScreen;\n"]},"metadata":{},"sourceType":"module"}